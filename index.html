```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="RhythmFlow Dance Academy: Expert-led dance training with vibrant classes.">
    <meta name="keywords" content="dance academy, hip-hop, ballet, salsa, dance classes, dance studio">
    <meta property="og:title" content="RhythmFlow Dance Academy">
    <meta property="og:description" content="Join our passionate dance community with top instructors.">
    <meta property="og:image" content="https://placehold.co/1200x600/1c1c2e/ffd700?text=RhythmFlow+Dance">
    <meta property="og:url" content="https://rhythmflow.com">
    <meta name="twitter:card" content="summary_large_image">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://favicon.io/emoji-favicons/dancer" sizes="32x32">
    <title>RhythmFlow Dance Academy</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        body { background: linear-gradient(135deg, #0a0d1b, #1c1f2e); color: #fff; }
        header { position: fixed; width: 100%; top: 0; background: rgba(10, 10, 27, 0.85); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; z-index: 1000; transition: background-color 0.3s; }
        header.scrolled { background: rgba(10, 10, 27, 0.95); box-shadow: 0 2px 5px rgba(255, 215, 0, 0.2); }
        .logo { font-size: 1.75rem; color: #ffd700; font-weight: 700; font-family: 'Playfair Display', serif; }
        nav ul { list-style: none; display: flex; gap: 1.5rem; }
        nav ul li a { color: #fff; text-decoration: none; font-size: 1rem; transition: color 0.3s; }
        nav ul li a:hover, nav ul li a.active { color: #ffd700; }
        .hamburger { display: none; cursor: pointer; font-size: 1.5rem; color: #fff; }
        .hero { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; background: url('https://images.unsplash.com/photo-1522642888367-8d98750c243c?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D') center/cover; position: relative; filter: grayscale(20%); }
        .hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: -1; }
        .hero-content h1 { font-size: 4rem; color: #fff; font-family: 'Playfair Display', serif; margin-bottom: 1rem; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); }
        .hero-content p { font-size: 1.5rem; color: #f0f0f0; margin-bottom: 1.5rem; }
        .btn { background: linear-gradient(45deg, #ffd700, #ff4d4d); color: #fff; padding: 0.75rem 2rem; border-radius: 1.5rem; text-decoration: none; font-size: 1.1rem; transition: all 0.3s; display: inline-block; cursor: pointer; }
        .btn:hover { background: linear-gradient(45deg, #ff4d4d, #ffd700); transform: translateY(-2px); box-shadow: 0 4px 8px rgba(255, 77, 77, 0.3); }
        .stats-bar { display: flex; justify-content: center; gap: 2rem; padding: 1rem; background: rgba(255, 255, 255, 0.1); margin: 1rem auto; max-width: 50rem; border-radius: 0.5rem; }
        .stat-item .stat-number { font-size: 2rem; color: #ffd700; font-weight: 600; }
        .stat-item .stat-label { font-size: 0.9rem; color: #e0e0e0; }
        .about, .classes, .instructors, .testimonials, .contact { padding: 4rem 1.25rem; text-align: center; }
        h2 { font-size: 2.5rem; color: #ffd700; font-family: 'Playfair Display', serif; margin-bottom: 1.5rem; }
        .about img, .class-card img, .instructor-card img, .testimonial-card img { width: 100%; max-width: 31.25rem; border-radius: 0.5rem; margin: 0.625rem 0; height: 12.5rem; object-fit: cover; transition: transform 0.3s; }
        .about img:hover, .class-card img:hover, .instructor-card img:hover { transform: scale(1.05); }
        .class-grid, .instructor-grid, .testimonial-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(15.625rem, 1fr)); gap: 1.5rem; max-width: 62.5rem; margin: 0 auto; }
        .class-card, .instructor-card, .testimonial-card { background: rgba(255, 255, 255, 0.05); border-radius: 0.5rem; padding: 1rem; transition: transform 0.3s, box-shadow 0.3s; }
        .class-card:hover, .instructor-card:hover, .testimonial-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(255, 215, 0, 0.2); }
        .class-card h3, .instructor-card h3, .testimonial-card h3 { font-size: 1.3rem; color: #ffd700; margin: 0.625rem 0; font-family: 'Playfair Display', serif; }
        .class-card p, .instructor-card p, .testimonial-card p { font-size: 0.9rem; color: #e0e0e0; }
        .testimonial-card img { width: 5rem; height: 5rem; border-radius: 50%; margin: 0 auto; }
        .contact form { max-width: 31.25rem; margin: 0 auto; display: grid; gap: 0.625rem; }
        .contact input, .contact textarea { background: rgba(255, 255, 255, 0.1); border: 1px solid #ffd700; padding: 0.5rem; border-radius: 0.3125rem; color: #fff; font-size: 0.9rem; transition: border-color 0.3s; }
        .contact input:focus, .contact textarea:focus { border-color: #ff4d4d; outline: none; }
        .contact textarea { resize: vertical; min-height: 6rem; }
        .contact button { background: linear-gradient(45deg, #ffd700, #ff4d4d); border: none; padding: 0.5rem; border-radius: 0.3125rem; color: #fff; cursor: pointer; font-size: 1rem; }
        .contact button:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(255, 77, 77, 0.3); }
        .contact-info { margin-top: 1rem; font-size: 0.9rem; }
        .contact-info a { color: #ffd700; text-decoration: none; }
        .contact-info a:hover { color: #ff4d4d; }
        .footer { background: #0a0d1b; padding: 1.5rem; text-align: center; }
        .footer p, .footer a { color: #e0e0e0; font-size: 0.9rem; }
        .footer a { color: #ffd700; }
        .footer a:hover { color: #ff4d4d; }
        .booking-modal, .renewal-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 2000; justify-content: center; align-items: center; }
        .booking-modal-content, .renewal-modal-content { background: #1c1f2e; border-radius: 0.5rem; padding: 1.5rem; max-width: 31.25rem; width: 90%; text-align: center; position: relative; }
        .booking-modal-content select, .booking-modal-content input, .renewal-modal-content select, .renewal-modal-content input { background: #2a2d3e; border: 1px solid #ffd700; padding: 0.5rem; border-radius: 0.3125rem; color: #fff; width: 100%; margin-bottom: 0.625rem; font-size: 0.9rem; -webkit-appearance: none; -moz-appearance: none; appearance: none; }
        .booking-modal-content select, .renewal-modal-content select { background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23ffd700%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 0.7rem top 50%; background-size: 0.65rem auto; }
        .booking-modal-close, .renewal-modal-close { position: absolute; top: 0.625rem; right: 0.625rem; color: #fff; font-size: 1.5rem; cursor: pointer; }
        .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.5s, transform 0.5s; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
        iframe.hidden { display: none; }
        @media (max-width: 48rem) {
            .hero-content h1 { font-size: 2.5rem; }
            .hero-content p { font-size: 1rem; }
            nav ul { display: none; flex-direction: column; position: absolute; top: 3.125rem; left: 0; width: 100%; background: rgba(10, 10, 27, 0.9); padding: 1rem; }
            nav ul.active { display: flex; }
            .hamburger { display: block; }
            .stats-bar { flex-direction: column; gap: 0.625rem; }
            .btn { padding: 0.5rem 1.25rem; font-size: 0.9rem; }
            .class-grid, .instructor-grid, .testimonial-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header role="banner">
        <div class="logo" aria-label="RhythmFlow Dance Academy Logo">RhythmFlow</div>
        <nav role="navigation" aria-label="Main navigation">
            <ul>
                <li><a href="#home" class="active" aria-current="page">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#classes">Classes</a></li>
                <li><a href="#instructors">Instructors</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#renewal-modal" onclick="openRenewalModal()">Renew</a></li>
            </ul>
        </nav>
        <div class="hamburger" aria-label="Toggle mobile menu">â˜°</div>
    </header>

    <section id="home" class="hero" role="main">
        <div class="hero-overlay" aria-hidden="true"></div>
        <div class="hero-content fade-in">
            <h1>Move with Passion</h1>
            <p>Discover world-class dance training at RhythmFlow Dance Academy.</p>
            <a href="#booking-modal" class="btn" onclick="openBookingModal()">Book a Class Now</a>
            <a href="#renewal-modal" class="btn" onclick="openRenewalModal()" style="margin-left: 1rem;">Renew Subscription</a>
        </div>
        <div class="stats-bar fade-in">
            <div class="stat-item">
                <span class="stat-number" data-target="5000">0</span>
                <span class="stat-label">Students</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="20">0</span>
                <span class="stat-label">Instructors</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="10">0</span>
                <span class="stat-label">Years</span>
            </div>
        </div>
    </section>

    <section id="about" class="about fade-in">
        <h2>About Us</h2>
        <p>RhythmFlow Dance Academy is your home for passionate dance training, offering expert-led classes in diverse styles for all skill levels.</p>
        <img src="https://t3.ftcdn.net/jpg/03/12/00/38/360_F_312003832_T2hmgMlJOnDYcDjKybmtyRL0k5taIetb.jpg" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="About RhythmFlow" loading="lazy">
    </section>

    <section id="classes" class="classes fade-in">
        <h2>Our Classes</h2>
        <div class="class-grid">
            <div class="class-card">
                <img src="https://images.unsplash.com/photo-1621976360623-004223992275?q=80&w=1428&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Hip-Hop" loading="lazy">
                <h3>Hip-Hop</h3>
                <p>Energetic urban dance styles to ignite your rhythm. (â‚¹1500)</p>
                <a href="#booking-modal" class="btn" onclick="openBookingModal('Hip-Hop')">Book Now</a>
            </div>
            <div class="class-card">
                <img src="https://images.unsplash.com/photo-1528392944531-e63de93f8751?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Classical Ballet" loading="lazy">
                <h3>Classical Ballet</h3>
                <p>Graceful techniques for poise and precision. (â‚¹2000)</p>
                <a href="#booking-modal" class="btn" onclick="openBookingModal('Classical Ballet')">Book Now</a>
            </div>
            <div class="class-card">
                <img src="https://images.unsplash.com/photo-1504609813442-a8924e83f76e?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Salsa" loading="lazy">
                <h3>Salsa</h3>
                <p>Vibrant Latin rhythms to spice up your moves. (â‚¹1800)</p>
                <a href="#booking-modal" class="btn" onclick="openBookingModal('Salsa')">Book Now</a>
            </div>
        </div>
    </section>

    <section id="instructors" class="instructors fade-in">
        <h2>Our Instructors</h2>
        <div class="instructor-grid">
            <div class="instructor-card">
                <img src="https://images.unsplash.com/photo-1578619627285-e3a1d382f2bf?q=80&w=1471&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Emma Johnson" loading="lazy">
                <h3>Emma Johnson</h3>
                <p>Hip-Hop Specialist with 10+ years of experience.</p>
            </div>
            <div class="instructor-card">
                <img src="https://images.unsplash.com/photo-1582707718995-6d1404d4f547?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Maria Lopez" loading="lazy">
                <h3>Maria Lopez</h3>
                <p>Ballet Expert trained in classical techniques.</p>
            </div>
            <div class="instructor-card">
                <img src="https://images.unsplash.com/photo-1504505278590-428d1acd0f07?q=80&w=1481&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Carlos Smith" loading="lazy">
                <h3>Carlos Smith</h3>
                <p>Salsa Instructor with a passion for Latin dance.</p>
            </div>
            <div class="instructor-card">
                <img src="https://images.unsplash.com/photo-1504505278590-428d1acd0f07?q=80&w=1481&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" onerror="this.src='https://placehold.co/500x200/1c1c2e/ffd700?text=Fallback+Image'" alt="Sofia Lee" loading="lazy">
                <h3>Sofia Lee</h3>
                <p>Contemporary Dance innovator and choreographer.</p>
            </div>
        </div>
    </section>

    <section id="testimonials" class="testimonials fade-in">
        <h2>What Our Students Say</h2>
        <div class="testimonial-grid">
            <div class="testimonial-card">
                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvZmlsZSUyMGltYWdlfGVufDB8fDB8fHww" onerror="this.src='https://placehold.co/80x80/1c1c2e/ffd700?text=Fallback'" alt="Student" loading="lazy">
                <h3>Jane Doe</h3>
                <p>"RhythmFlow transformed my dance skills and confidence!"</p>
            </div>
            <div class="testimonial-card">
                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvZmlsZSUyMGltYWdlfGVufDB8fDB8fHww" onerror="this.src='https://placehold.co/80x80/1c1c2e/ffd700?text=Fallback'" alt="Student" loading="lazy">
                <h3>Mike Smith</h3>
                <p>"The instructors are amazing, and classes are so fun!"</p>
            </div>
        </div>
    </section>

    <section id="contact" class="contact fade-in">
        <h2>Contact Us</h2>
        <form id="contact-form" aria-label="Contact form" method="POST" action="https://script.google.com/macros/s/AKfycbxQW9F-q7rF4ZkavUTt8eGP9Knp0b5X51ZA19pn9wPGyC1WoiqDcwAS5gHM1rxks_x6CQ/exec" target="form-response">
            <input type="hidden" name="type" value="Contact">
            <input type="text" name="name" placeholder="Your Name" required aria-label="Name">
            <input type="email" name="email" placeholder="Your Email" required aria-label="Email">
            <input type="tel" name="phone" placeholder="Your Phone (e.g., +91XXXXXXXXXX)" required aria-label="Phone">
            <textarea name="details" placeholder="Your Message" required aria-label="Message"></textarea>
            <button type="submit">Send Message</button>
        </form>
        <iframe name="form-response" class="hidden"></iframe>
        <div class="contact-info">
            <p>Phone: <a href="tel:+91YOURPHONENUMBER">+91-YOUR-PHONE-NUMBER</a></p>
            <p>Email: <a href="mailto:info@rhythmflow.com">info@rhythmflow.com</a></p>
            <p><a href="https://instagram.com/rhythmflow" target="_blank" aria-label="Instagram">Instagram</a> | <a href="https://youtube.com/@rhythmflow" target="_blank" aria-label="YouTube">YouTube</a></p>
        </div>
    </section>

    <footer class="footer" role="contentinfo">
        <p>Â© 2025 RhythmFlow Dance Academy</p>
        <p>Phone: <a href="tel:+91YOURPHONENUMBER">+91-YOUR-PHONE-NUMBER</a> | Email: <a href="mailto:info@rhythmflow.com">info@rhythmflow.com</a></p>
    </footer>

    <div class="booking-modal" id="booking-modal" aria-label="Booking form modal">
        <div class="booking-modal-content">
            <span class="booking-modal-close" onclick="closeBookingModal()" aria-label="Close">Ã—</span>
            <h2>Book a Class</h2>
            <form id="booking-form" aria-label="Booking form" method="POST" action="https://script.google.com/macros/s/AKfycbxQW9F-q7rF4ZkavUTt8eGP9Knp0b5X51ZA19pn9wPGyC1WoiqDcwAS5gHM1rxks_x6CQ/exec" target="form-response">
                <input type="hidden" name="type" value="Booking">
                <input type="hidden" name="payment_id" id="payment_id">
                <input type="hidden" name="amount" id="amount">
                <select id="class-select" name="details" required aria-label="Select class" onchange="updateAmount()">
                    <option value="" disabled selected>Choose a Class</option>
                    <option value="Hip-Hop" data-amount="150000">Hip-Hop (â‚¹1500)</option>
                    <option value="Classical Ballet" data-amount="200000">Classical Ballet (â‚¹2000)</option>
                    <option value="Salsa" data-amount="180000">Salsa (â‚¹1800)</option>
                </select>
                <input type="text" name="name" placeholder="Your Name" required aria-label="Name">
                <input type="email" name="email" placeholder="Your Email" required aria-label="Email">
                <input type="tel" name="phone" placeholder="Your Phone (e.g., +91XXXXXXXXXX)" required aria-label="Phone">
                <button type="button" class="btn" onclick="initiatePayment('booking-form')">Pay and Book</button>
            </form>
        </div>
    </div>

    <div class="renewal-modal" id="renewal-modal" aria-label="Renewal form modal">
        <div class="renewal-modal-content">
            <span class="renewal-modal-close" onclick="closeRenewalModal()" aria-label="Close">Ã—</span>
            <h2>Renew Subscription</h2>
            <form id="renewal-form" aria-label="Renewal form" method="POST" action="https://script.google.com/macros/s/AKfycbxQW9F-q7rF4ZkavUTt8eGP9Knp0b5X51ZA19pn9wPGyC1WoiqDcwAS5gHM1rxks_x6CQ/exec" target="form-response">
                <input type="hidden" name="type" value="Renewal">
                <input type="hidden" name="payment_id" id="renewal_payment_id">
                <input type="hidden" name="amount" id="renewal_amount">
                <input type="email" name="email" id="renewal_email" placeholder="Your Email" required aria-label="Email">
                <select id="renewal_class_select" name="details" required aria-label="Select class" onchange="updateRenewalAmount()">
                    <option value="" disabled selected>Choose a Class</option>
                    <option value="Hip-Hop" data-amount="150000">Hip-Hop (â‚¹1500)</option>
                    <option value="Classical Ballet" data-amount="200000">Classical Ballet (â‚¹2000)</option>
                    <option value="Salsa" data-amount="180000">Salsa (â‚¹1800)</option>
                </select>
                <input type="text" name="name" placeholder="Your Name" required aria-label="Name">
                <input type="tel" name="phone" placeholder="Your Phone (e.g., +91XXXXXXXXXX)" required aria-label="Phone">
                <button type="button" class="btn" onclick="initiatePayment('renewal-form')">Pay and Renew</button>
            </form>
        </div>
    </div>

    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script>
        const GOOGLE_API_URL = 'https://script.google.com/macros/s/AKfycbxQW9F-q7rF4ZkavUTt8eGP9Knp0b5X51ZA19pn9wPGyC1WoiqDcwAS5gHM1rxks_x6CQ/exec';

        // Header Scroll
        window.addEventListener('scroll', () => {
            document.querySelector('header').classList.toggle('scrolled', window.scrollY > 0);
        });

        // Hamburger Menu
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('nav ul');
        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            hamburger.textContent = navMenu.classList.contains('active') ? 'âœ–' : 'â˜°';
        });

        // Update Amount Field
        function updateAmount() {
            const classSelect = document.getElementById('class-select');
            const amountInput = document.getElementById('amount');
            const selectedOption = classSelect.options[classSelect.selectedIndex];
            amountInput.value = selectedOption ? selectedOption.dataset.amount : '';
        }

        function updateRenewalAmount() {
            const classSelect = document.getElementById('renewal_class_select');
            const amountInput = document.getElementById('renewal_amount');
            const selectedOption = classSelect.options[classSelect.selectedIndex];
            amountInput.value = selectedOption ? selectedOption.dataset.amount : '';
        }

        // Initiate Razorpay Payment
        function initiatePayment(formId) {
            const form = document.getElementById(formId);
            const classSelect = document.getElementById(formId === 'booking-form' ? 'class-select' : 'renewal_class_select');
            const name = form.querySelector('input[name="name"]').value;
            const email = form.querySelector('input[name="email"]').value;
            const phone = form.querySelector('input[name="phone"]').value;
            const amount = parseInt(form.querySelector(`input[name="amount"]`).value);

            if (!classSelect.value || !name || !email || !phone || !amount) {
                alert('Please fill all fields before proceeding to payment.');
                return;
            }

            const options = {
                key: 'rzp_test_gx1zMuo2qDYKHR',
                amount: amount,
                currency: 'INR',
                name: 'RhythmFlow Dance Academy',
                description: `Payment for ${classSelect.value} ${formId === 'booking-form' ? 'Class' : 'Renewal'}`,
                image: 'https://favicon.io/emoji-favicons/dancer',
                handler: function (response) {
                    form.querySelector(`input[name="payment_id"]`).value = response.razorpay_payment_id;
                    submitForm(formId);
                },
                prefill: {
                    name: name,
                    email: email,
                    contact: phone
                },
                theme: {
                    color: '#ffd700'
                }
            };

            const rzp = new Razorpay(options);
            rzp.on('payment.failed', function (response) {
                alert('Payment failed: ' + response.error.description);
            });
            rzp.open();
        }

        // Form Submission
        function submitForm(formId) {
            const form = document.getElementById(formId);
            form.submit();
        }

        function handleFormSubmit(formId) {
            const form = document.getElementById(formId);
            const iframe = document.getElementsByName('form-response')[0];
            iframe.onload = () => {
                try {
                    const response = iframe.contentDocument?.body?.textContent || '';
                    if (!response) throw new Error('Empty response from server');
                    const result = JSON.parse(response);
                    if (result.status === 'success') {
                        alert(formId === 'booking-form' ? 'Payment and booking successful! Check your email for confirmation.' : formId === 'renewal-form' ? 'Subscription renewed successfully! Check your email for confirmation.' : 'Thank you for your message!');
                        form.reset();
                        if (formId === 'booking-form') closeBookingModal();
                        if (formId === 'renewal-form') closeRenewalModal();
                    } else {
                        alert('Submission failed: ' + (result.message || 'Unknown error'));
                    }
                } catch (error) {
                    alert('Thank you for your submission');
                }
            };
        }

        handleFormSubmit('contact-form');
        handleFormSubmit('booking-form');
        handleFormSubmit('renewal-form');

        // Booking Modal
        function openBookingModal(className) {
            const modal = document.getElementById('booking-modal');
            const classSelect = document.getElementById('class-select');
            if (className) classSelect.value = className;
            updateAmount();
            modal.style.display = 'flex';
        }

        function closeBookingModal() {
            document.getElementById('booking-modal').style.display = 'none';
            document.getElementById('booking-form').reset();
        }

        // Renewal Modal
        function openRenewalModal() {
            const modal = document.getElementById('renewal-modal');
            const urlParams = new URLSearchParams(window.location.hash.substring(1));
            const email = urlParams.get('email');
            const className = urlParams.get('class');
            if (email) document.getElementById('renewal_email').value = email;
            if (className) document.getElementById('renewal_class_select').value = className;
            updateRenewalAmount();
            modal.style.display = 'flex';
        }

        function closeRenewalModal() {
            document.getElementById('renewal-modal').style.display = 'none';
            document.getElementById('renewal-form').reset();
        }

        document.querySelector('.booking-modal-close').addEventListener('click', closeBookingModal);
        document.querySelector('.renewal-modal-close').addEventListener('click', closeRenewalModal);
        document.getElementById('booking-modal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) closeBookingModal();
        });
        document.getElementById('renewal-modal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) closeRenewalModal();
        });

        // Stats Animation
        const stats = document.querySelectorAll('.stat-number');
        const observer = new IntersectionObserver(entries => {
            if (entries[0].isIntersecting) {
                stats.forEach(stat => {
                    const target = parseInt(stat.dataset.target);
                    let count = 0;
                    const increment = target / 20;
                    const update = () => {
                        if (count < target) {
                            count += increment;
                            stat.textContent = Math.ceil(count);
                            setTimeout(update, 50);
                        } else {
                            stat.textContent = target + '+';
                        }
                    };
                    update();
                });
                observer.disconnect();
            }
        }, {threshold: 0.5});
        observer.observe(document.querySelector('.stats-bar'));

        // Fade-In Animation
        const fadeElements = document.querySelectorAll('.fade-in');
        const fadeObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, {threshold: 0.1});
        fadeElements.forEach(el => fadeObserver.observe(el));

        // Image Load Logging
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('load', () => console.log(`Loaded: ${img.src}`));
            img.addEventListener('error', () => console.error(`Failed: ${img.src}`));
        });

        // Prefill Renewal Modal from URL
        window.addEventListener('load', () => {
            if (window.location.hash.includes('renewal-modal')) {
                openRenewalModal();
            }
        });
    </script>
</body>
</html>
```
